/*!
 * name: @jswork/next-plugin-manager
 * description: Plugin manager for next.
 * homepage: https://github.com/afeiship/next-plugin-manager
 * version: 1.0.3
 * date: 2021-02-06 11:39:33
 * license: MIT
 */
!function(){function e(t,i){return s.mix(null,n,{name:t},i)}var s=("undefined"!=typeof window?window:this||Function("return this")()).nx||require("@jswork/next"),t=s.stubSingleton||require("@jswork/next-stub-singleton"),n={disabled:!1},i=s.declare("nx.PluginManager",{statics:{init:function(){s.mix(this,t())}},methods:{init:function(t,i){this.entities=t||[],this.id=i||"id"},register:function(t){this.has(t[this.id])||this.entities.push(e(t[this.id],t))},unregister:function(i){var t=this.entities.findIndex(function(t){return t[[this.id]]===i},this);-1!==t&&this.entities.splice(t,1)},enabled:function(){return this.entities.filter(function(t){return!t.disabled})},disabled:function(){return this.entities.filter(function(t){return t.disabled})},enable:function(t){this.get(t).disabled=!1},disable:function(t){this.get(t).disabled=!0},toggle:function(t){t=this.get(t);t.disabled=!t.disabled},update:function(t,i){t=this.get(t);s.mix(t,i)},updates:function(t){var n=this;s.forIn(t,function(t,i){n.update(t,i)})},has:function(t){return!!this.get(t)},set:function(i,t){var n=this.entities.findIndex(function(t){return t[[this.id]]===i},this),t=s.mix(e(i,t));-1!==n&&this.entities.splice(n,1,t)},get:function(i){return this.entities.find(function(t){return t[this.id]===i},this)},sets:function(t){var n=this;s.forIn(t,function(t,i){n.set(t,i)})},gets:function(){return this.entities},empty:function(){this.entities.length=0}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();